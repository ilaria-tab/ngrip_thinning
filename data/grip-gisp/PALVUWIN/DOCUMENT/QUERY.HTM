<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=iso-8859-1">
<meta name="Author" content="NOAA Paleoclimatology Program">
<meta name="Description"
content="paleoclimatology, paleoclimate, paleoecology, palaeoclimate, palaeoecology">
<meta name="GENERATOR" content="Microsoft FrontPage 2.0">
<title>NOAA Paleoclimatology Program</title>
<STYLE>
<!--
	BODY  {font-family: "Verdana, Arial, Helvetica"; font-size: 8pt; color: 333333}
	A:link {font-family: "Verdana, Arial, Helvetica"; font-size: 9pt; color: 336699; font-weight: bold}
	A:visited {font-family: "Verdana, Arial, Helvetica"; font-size: 9pt; color: 800080; font-weight: bold}
	BIG  {font-family: "Verdana, Arial, Helvetica"; font-size: 15pt; color: 006699; font-style: italic; font-weight: bold}
	H3  {font-family: "Verdana, Arial, Helvetica"; font-size: 12pt; color: 006699; font-weight: medium}
-->
</STYLE>
</head>

<body background="back.gif" text="#000000" link="#336699"
vlink="#808080" alink="#FF0000" topmargin="0" leftmargin="0">

<table border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td valign="top"><font size="3" face="Verdana"><tt><img
        src="1pix.gif" hspace="10" width="1" height="1"><!--webbot
        bot="ImageMap" startspan
        rectangle=" (230,83) (357, 97)  pvcont.htm"
        rectangle=" (375,83) (461, 97)  http://www.ngdc.noaa.gov/paleo/paleo.html"
        rectangle=" (477,83) (547, 97)  http://www.ngdc.noaa.gov/paleo/staff.html"
        rectangle=" (78,83) (213, 97)  http://www.ngdc.noaa.gov/paleo/softlib.html"
        src="topnav.gif" border="0" width="592" height="100" --><MAP NAME="FrontPageMap0"><AREA SHAPE="RECT" COORDS="230, 83, 357, 97" HREF="pvcont.htm"><AREA SHAPE="RECT" COORDS="375, 83, 461, 97" HREF="http://www.ngdc.noaa.gov/paleo/paleo.html"><AREA SHAPE="RECT" COORDS="477, 83, 547, 97" HREF="http://www.ngdc.noaa.gov/paleo/staff.html"><AREA SHAPE="RECT" COORDS="78, 83, 213, 97" HREF="http://www.ngdc.noaa.gov/paleo/softlib.html"></MAP><img src="topnav.gif" border="0" width="592" height="100" usemap="#FrontPageMap0"><!--webbot
        bot="ImageMap" i-checksum="53557" endspan --></tt></font><a
        name="top"></a><font size="3" face="Verdana"><tt><br>
        <img src="1pix.gif" vspace="10" width="1" height="1"><br>
        <img src="1pix.gif" hspace="15" width="1" height="1"></tt></font><font
        color="#000080" size="4" face="Verdana">4 Querying</font><font
        size="3" face="Verdana"><tt><br>
        <img src="1pix.gif" vspace="10" width="1" height="1"></tt></font></td>
    </tr>
</table>

<table border="0" cellpadding="0" cellspacing="0">
    <tr>
        <td width="30"><font size="3" face="Verdana"><tt><img
        src="1pix.gif" hspace="30" width="1" height="1"></tt></font></td>
        <td valign="top"><h3><font color="#000080" size="3"
        face="Verdana"><tt>4.1. Overview</tt></font></h3>
        <p><font size="3" face="Verdana"><tt>As described in
        Chapter 3, each GEOREFERENCE WINDOW maintains a </tt><i><tt>Site
        List</tt></i><tt>. The </tt><i><tt>Site List</tt></i><tt>
        is a list of georeferenced data sites that meet the
        current query parameters. Current query parameters are
        defined in terms of three concepts:<br>
        </tt></font></p>
        <ol>
            <li><font size="3" face="Verdana"><i><tt>Query Region</tt></i><tt>:
                A geographic region specified in terms of
                latitude and longitude. </tt></font></li>
            <li><font size="3" face="Verdana"><i><tt>Query
                Expressions</tt></i><tt>: Each georeferenced data
                category has a </tt><i><tt>Query Expression</tt></i><tt>.
                A </tt><i><tt>Query Expression</tt></i><tt> is an
                expression that results in a subset of data sites
                for a particular georeferenced data category
                (such as tree ring or ice core). </tt></font></li>
            <li><font size="3" face="Verdana"><i><tt>Reconstructed
                Variables Only</tt></i><tt>: If you selected this
                checkbox in the DATA SELECTION dialog, only sites
                with reconstructed variables are included in the </tt><i><tt>Site
                List</tt></i><tt>.</tt></font></li>
        </ol>
        <p><font size="3" face="Verdana"><tt>You can change the
        query expression for a given category of data to control
        what data is displayed through the GEOREFERENCE QUERY
        dialog. To display the GEOREFERENCE QUERY dialog, select
        the Query Button from the Georeference Window. <img
        src="query06.gif" align="center" vspace="10" width="600"
        height="399"><br>
        When you open the query dialog, at the top of the dialog
        is a list of the categories of data that were selected
        for this georeference window. Selecting one of the
        categories will result in a list of variables associated
        with this category being displayed in the center of the
        dialog. For querying, numeric variables are not a single
        value. A </tt><i><tt>variable</tt></i><tt> for a site is
        a package of two values - a minimum and a maximum value.
        These values are the minimum and maximum values of that
        variable for a particular site. By default, all variables
        are displayed (non-reconstructed and reconstructed). The
        checkbox below the variable list can be used to change
        the display to only reconstructed variables.<br>
        Clicking on a variable in the variable list causes the
        variable name to be placed in the expression box at the
        bottom of the dialog. The variable is surrounded by
        brackets ( [] ). The brackets distinguish between the
        variable names and other symbols in the expression. It is
        possible to type directly into the expression box,
        especially to backspace over mistakes.<br>
        To the right of the variable list is a group of buttons
        with operation symbols. These buttons are used to place
        operations in the expression box. There are 13
        operations. These are:<br>
        </tt></font></p>
        <ol>
            <li><font size="3" face="Verdana"><tt>+ (plus) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>- (minus) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>*
                (multiplication) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>/ (divide) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>&gt; (greater
                than) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>&gt;= (greater
                than equal to) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>= (equal to) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>&lt;&gt; (not
                equal to) </tt></font></li>
            <li><font size="3" face="Verdana"><tt>AND </tt></font></li>
            <li><font size="3" face="Verdana"><tt>OR </tt></font></li>
            <li><font size="3" face="Verdana"><tt>NOT</tt></font></li>
        </ol>
        <p><font size="3" face="Verdana"><tt>Variables and
        operations can always be typed directly into the
        expression box. The click to insert functions from the
        variable list and operation buttons is only for
        convenience for the user. Clicking to insert </tt><i><tt>does
        not</tt></i><tt> guarantee that the expression is
        correct. An expression can be built completely from
        clicking to insert and still produce syntax errors.<br>
        Parenthesises can be used to group parts of the
        expression to circumvent operator precedence. (See
        Appendix B for default operator precedence). Operators
        AND, OR, and NOT are preceded and followed by periods in
        the expression to distinguish these operators from
        strings and variable names.<br>
        Numbers and operators work just like the common
        calculator. Variables, on the other hand, have special
        rules about how they interact with operations and other
        types of operands. A variable is a package, a min/max
        pair. When a numeric value (integer or float value) is
        added to a variable, the value is added to both the min
        and max value of the variable. For example, a variable
        Age can have a minimum value of 10 and a maximum value of
        100. The expression &quot;[Age] + 5&quot; would result in
        a variable with a minimum value of 15 and a maximum value
        of 105. All of the numeric operators (+, -, *, /) work
        similarly. Relational operators are the most useful
        operators. The rules for applying the relational
        operators to variables follows:<br>
        </tt></font></p>
        <ul>
            <li><font size="3" face="Verdana"><tt>Variable
                Variable.min </tt></font></li>
            <li><font size="3" face="Verdana"><tt>Variable &gt;
                value returns if value value value &gt; Variable
                returns if value &gt; Variable.min </tt></font></li>
            <li><font size="3" face="Verdana"><tt>Variable1 &gt;
                Variable2 returns if Variable1.max &gt;
                Variable2.min </tt></font></li>
            <li><font size="3" face="Verdana"><tt>Variable1 After
                the expression is completed, the button APPLY
                EXPRESSION is used to apply the current
                expression to the selected category. When an
                expression is applied to a category, the
                expression is actually applied to each site of
                the category. If the site has a variable of the
                type specified in the query, the expression is
                evaluated with that variable&#146;s values. If
                the result of the evaluation is True, the site is
                included in the current display. If the result of
                the evaluation is False, the site is dropped from
                the current display. If the site does not have a
                variable of the types listed in the expression,
                the evaluation results in False and the site is
                dropped from the current display.<br>
                The goal of a query is to obtain a boolean
                (True/False) answer to whether a site fulfills a
                query. The query &quot;2 + 5&quot; is a valid
                query and all the sites fulfill the query, but it
                is not really a useful query. Including a
                variable in the expression uses values from the
                data sites to determine the expression value. If
                evaluating the expression for a site results in
                True, the data site is displayed on the
                GEOREFERENCE WINDOW.<br>
                <img src="1pix.gif" vspace="5" width="1"
                height="1"><br>
                Example:<br>
                Say you want to query for all Calcium Carbonate
                data sites that have a percentage of CaC03
                greater than 90%. The process to query is as
                follows:<br>
                </tt></font><ol>
                    <li><font size="3" face="Verdana"><tt>Select
                        the </tt><b><tt>Calcium Carbonate</tt></b><tt>
                        data category from the top list by
                        clicking on the left most column. </tt></font></li>
                    <li><font size="3" face="Verdana"><tt>Construct
                        the query expression; Enter variables
                        into the expression by selecting from the
                        </tt><b><tt>Category Variable Names</tt></b><tt>
                        list, enter operators by selecting from
                        the operator buttons, type directly into
                        the expression using the backspace key to
                        delete. Variable names are preceded and
                        followed by brackets ( [,] ). For
                        example, if the variable </tt><b><tt>CaCO3</tt></b><tt>
                        Percent is selected, the variable name in
                        the expression appears like </tt><b><tt>[CaCO3
                        Percent]</tt></b><tt>. </tt></font></li>
                    <li><font size="3" face="Verdana"><tt>Click
                        the </tt><b><tt>APPLY EXPRESSION</tt></b><tt>
                        button. </tt></font></li>
                    <li><font size="3" face="Verdana"><tt>Click
                        the </tt><b><tt>Done</tt></b><tt> button.</tt></font></li>
                </ol>
                <p><font size="3" face="Verdana"><tt>The site
                markers plotted in the GEOREFERENCE WINDOW for
                calcium carbonate will now reflect only the sites
                meeting the query expression.<br>
                <img src="query07.gif" vspace="10" width="600"
                height="399"></tt></font></p>
            </li>
        </ul>
        </td>
        <td width="10"><font size="3" face="Verdana"><tt><img
        src="1pix.gif" hspace="10" width="1" height="1"></tt></font></td>
    </tr>
    <tr>
        <td align="center" colspan="3"><a href="#top"><font
        size="3" face="Verdana"><tt><img src="top.gif" border="0"
        vspace="5" width="45" height="68"></tt></font></a></td>
    </tr>
    <tr>
        <td align="center" colspan="3"><font size="3"
        face="Verdana"><tt><img src="1pix.gif" width="100"
        height="5"><br>
        </tt></font><a href="1intro.htm"><font size="3"
        face="Verdana"><tt><img src="int.gif" border="0"
        width="157" height="23"></tt></font></a><font size="3"
        face="Verdana"><tt> </tt></font><a href="2main.htm"><font
        size="3" face="Verdana"><tt><img src="main.gif"
        border="0" width="157" height="23"></tt></font></a><font
        size="3" face="Verdana"><tt> </tt></font><a
        href="window.htm"><font size="3" face="Verdana"><tt><img
        src="geo.gif" border="0" width="157" height="23"></tt></font></a><font
        size="3" face="Verdana"><tt> <img src="blueq.gif"
        width="157" height="23"><br>
        </tt></font><a href="plot.htm"><font size="3"
        face="Verdana"><tt><img src="plot.gif" border="0"
        width="157" height="23"></tt></font></a><font size="3"
        face="Verdana"><tt> </tt></font><a href="export.htm"><font
        size="3" face="Verdana"><tt><img src="ex.gif" border="0"
        width="157" height="23"></tt></font></a><font size="3"
        face="Verdana"><tt> </tt></font><a href="apxa.htm"><font
        size="3" face="Verdana"><tt><img src="a.gif" border="0"
        width="157" height="23"></tt></font></a><font size="3"
        face="Verdana"><tt> </tt></font><a href="apxb.htm"><font
        size="3" face="Verdana"><tt><img src="b.gif" border="0"
        width="157" height="23"></tt></font></a><font size="3"
        face="Verdana"><tt><br>
        <img src="1pix.gif" width="100" height="5"> </tt></font></td>
    </tr>
</table>
</body>
</html>
